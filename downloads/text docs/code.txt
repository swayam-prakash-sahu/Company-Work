let wordApiURL = '';

async function getRandomWord() {
 
  wordApiURL = getWordApi();
  fetch(wordApiURL)
  .then(wordResponse => wordResponse.json())
  .then((wordData) => {
    updateDOM(wordData.word)
    return fetch(getDictionaryApiUrl()+'/'+wordData.word);
  })
  .then(dictionaryResponse => dictionaryResponse.json())
  .then(dictionaryData => {
    const { word, meanings } = dictionaryData[0];

    const meaningsArr = meanings.map((meaning) => ({
      [meaning.partOfSpeech]: meaning.definitions,
    }));

    updateDictionaryDetails(word, meaningsArr);
  })
  .catch(error => alert(error));
}

function updateDOM(word) {
  var para = document.getElementById('word');
  para.innerHTML= word;
}

function getMeaningsStr(meaningsArr) {
  let arr = [];
  return meaningsArr
    .map((meaning) => {
      arr = Object.entries(meaning);
      return `
      <p><span class='font-weight-bold'>${arr[0][0]}:</span> 
      ${arr[0][1].map((val) => `<p>${val.definition}</p>`).join('')}
      </p>
      `;
    })
    .join('');
}


function updateDictionaryDetails(word,meanings) {

  // Write your code here
  const wordDetails = document.querySelector('#word-details');

  wordDetails.innerHTML = '';
  wordDetails.innerHTML = `
                <td id="word">${word}</td>
                <td id="pronunciation"></td>
                <td id="meaning">${getMeaningsStr(meanings)}</td>
                <td id="example"></td>
              `;
}

==================

  